<header style="width: 100%; position: relative; z-index: 10;">
    <style>
        /* Professional nav link styling */
        #links a,
        .nav-right a.logout-link {
          color: white;
          text-decoration: none;
          font-weight: 600;
          padding: 6px 12px;
          border-radius: 4px;
          transition: background-color 0.25s ease, color 0.25s ease;
          font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
          user-select: none;
        }
        #links a:hover,
        #links a:focus,
        .nav-right a.logout-link:hover,
        .nav-right a.logout-link:focus {
          background-color: rgba(255, 255, 255, 0.15);
          text-decoration: underline;
          outline: none;
          cursor: pointer;
        }

        /* Cart styling to match the links */
        .cart {
          position: relative;
          cursor: pointer;
          padding: 6px 12px;
          border-radius: 4px;
          transition: background-color 0.25s ease;
          display: flex;
          align-items: center;
          gap: 6px;
        }
        .cart:hover,
        .cart:focus {
          background-color: rgba(255, 255, 255, 0.15);
          outline: none;
        }
        .cart i {
          font-size: 1.5em;
          color: white;
        }
        #cart-items {
          color: white;
          font-weight: bold;
          font-size: 0.85em;
          user-select: none;
          position: absolute;
          top: -6px;
          right: -6px;
          /* No background per your request */
        }
    </style>

    <div style="display: flex; align-items: center; padding: 10px 20px; background-color: #007BFF; box-sizing: border-box; width: 100%;">
        <img src="/images/logo.png" alt="easyshop logo" class="logo" style="height: 40px; flex-shrink: 0; z-index: 20; position: relative;" />

        {{#loggedin}}
        <div style="flex-grow: 1; display: flex; justify-content: space-between; align-items: center; margin-left: 20px; color: white;">

            <!-- Left side: nav links + search bar grouped -->
            <div style="display: flex; align-items: center; gap: 20px;">
                <div id="links" class="nav-left" style="display: flex; gap: 15px; align-items: center;">
                    <a href="#" onclick="loadHome()">Home</a>
                    <a href="#" onclick="editProfile()">Profile</a>
                    <a href="#" onclick="showCart()">View Cart</a>
                </div>

                <input
                        type="text"
                        id="search-input"
                        placeholder="Search products..."
                        style="padding: 6px 12px; border-radius: 4px; border: none; font-size: 1em;"
                        onkeyup="handleSearchInput(event)"
                        aria-label="Search products"
                />
            </div>

            <!-- Right side: user info + cart -->
            <div class="nav-right" style="display: flex; align-items: center; gap: 15px; font-weight: 500;">
        <span>
            Welcome&nbsp;<strong>{{username}}</strong>&nbsp;|&nbsp;
            <a href="#" onclick="userService.logout(); return false;" class="logout-link">Logout</a>
        </span>

                <div class="cart" tabindex="0" onclick="showCart()" onkeypress="if(event.key==='Enter'){showCart();}" role="button" aria-label="View Cart">
                    <i class="fa-solid fa-cart-shopping"></i>
                    <div id="cart-items">0</div>
                </div>
            </div>

        </div>
        {{/loggedin}}


        {{#loggedout}}
        <div style="flex-grow: 1; display: flex; justify-content: space-between; align-items: center; margin-left: 20px; color: white;">
            <div id="links" class="nav-left" style="display: flex; gap: 15px; align-items: center;">
                <a href="#" onclick="loadHome()">Home</a>
            </div>

            <div class="nav-right" style="color: white;">
                <a href="#" onclick="showLoginForm(); return false;" style="color: white; text-decoration: underline;">Login</a>
            </div>
        </div>
        {{/loggedout}}
    </div>
</header>
